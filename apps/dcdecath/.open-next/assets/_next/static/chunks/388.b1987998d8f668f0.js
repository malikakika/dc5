"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[388],{5388:(e,o,t)=>{t.r(o),t.d(o,{default:()=>v});var n=t(5155),i=t(2115),r=t(5557),s=t(7686),c=t(510),a=t(4523),l=t(5585),d=t(2294),p=t.n(d);t(2132);var u=t(6355);let h=u.Ay.div.withConfig({componentId:"sc-1890abb1-0"})(["min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:space-between;background-color:#eef3ff;padding:10px;position:relative;"]),x=u.Ay.div.withConfig({componentId:"sc-1890abb1-1"})(["width:100%;height:65vh;border-radius:15px;overflow:hidden;position:relative;"]),f=u.Ay.div.withConfig({componentId:"sc-1890abb1-2"})(["width:100%;background:white;padding:15px;display:flex;justify-content:space-between;align-items:center;border-radius:15px 15px 0 0;box-shadow:0 -2px 10px rgba(0,0,0,0.1);"]),g=u.Ay.button.withConfig({componentId:"sc-1890abb1-3"})(["flex:1;padding:15px;margin:0 5px;font-size:16px;font-weight:bold;color:white;background-color:#3646BA;border:none;border-radius:10px;cursor:pointer;"]),w=u.Ay.div.withConfig({componentId:"sc-1890abb1-4"})(["margin:10px 0;padding:10px;background:#3646BA;color:white;font-size:1.2rem;font-weight:bold;border-radius:8px;text-align:center;width:180px;"]),b=new(p()).Icon({iconUrl:"https://leafletjs.com/examples/custom-icons/leaf-green.png",iconSize:[38,38]});function m(e){let{coords:o}=e,t=(0,r.ko)();return(0,i.useEffect)(()=>{t.setView(o,14)},[o,t]),null}function v(){let[e,o]=(0,i.useState)(null),[t,r]=(0,i.useState)([]),[d,p]=(0,i.useState)(0),u=(0,i.useRef)(0),v=(0,i.useMemo)(()=>[48.8588443,2.2943506],[]),j=(0,i.useMemo)(()=>[48.8606,2.3376],[]);return(0,i.useEffect)(()=>{(async()=>{try{let e="".concat(v[1],",").concat(v[0]),o="".concat(j[1],",").concat(j[0]),t="https://router.project-osrm.org/route/v1/foot/".concat(e,";").concat(o,"?overview=simplified&geometries=geojson"),n=await fetch(t),i=await n.json();if(i.routes.length>0){let e=i.routes[0].geometry.coordinates.map(e=>{let[o,t]=e;return[t,o]});r(e)}else console.error("Aucun itin\xe9raire trouv\xe9.")}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration du trajet :",e)}})()},[v,j]),(0,i.useEffect)(()=>{if("geolocation"in navigator&&navigator.geolocation.watchPosition(e=>{o([e.coords.latitude,e.coords.longitude])},e=>console.error("Erreur de g\xe9olocalisation :",e),{enableHighAccuracy:!0}),"DeviceMotionEvent"in window){let e=0,o=o=>{let t=o.accelerationIncludingGravity;if(t){let o=Math.sqrt(Math.pow(t.x||0,2)+Math.pow(t.y||0,2)+Math.pow(t.z||0,2));Math.abs(o-e)>2&&(u.current+=1,p(u.current)),e=o}};return window.addEventListener("devicemotion",o),()=>window.removeEventListener("devicemotion",o)}},[]),(0,n.jsxs)(h,{children:[(0,n.jsxs)(w,{children:["\uD83D\uDC63 Pas : ",d]}),(0,n.jsx)(x,{children:(0,n.jsxs)(s.W,{center:v,zoom:14,style:{width:"100%",height:"100%"},children:[(0,n.jsx)(c.e,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t.length>0&&(0,n.jsx)(a.R,{positions:t,color:"#3646BA",weight:6}),(0,n.jsx)(l.p,{position:v,icon:b}),(0,n.jsx)(l.p,{position:j,icon:b}),e&&(0,n.jsx)(m,{coords:e})]})}),(0,n.jsxs)(f,{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{style:{color:"#3646BA",fontSize:"20px"},children:"Tour Eiffel â†’ Louvre"}),(0,n.jsx)("p",{style:{fontSize:"12px",color:"#666"},children:"Itin\xe9raire s\xe9lectionn\xe9"})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("strong",{style:{color:"#3646BA",fontSize:"20px"},children:[d," pas"]}),(0,n.jsx)("p",{style:{fontSize:"12px",color:"#666"},children:"Compteur de pas"})]}),(0,n.jsxs)("div",{style:{display:"flex",width:"100%",padding:"10px"},children:[(0,n.jsx)(g,{children:"Pause"}),(0,n.jsx)(g,{children:"Terminer"})]})]})]})}}}]);